<wrapper :max-width=1440>
  <grid-container>
    <grid-item columns="lg-10 sm-6">
      <heading level="h1" size="h2">
        <%= @request.requestor_status %>
      </heading>
      <heading level="h2" size="h3">
        From <%= @request.start_date %> to <%= @request.end_date %> in <%= @request.event_requests[0].location %>
      </heading>

      <tag type="tag" :tag-items="[
        {name: '<%= @request.latest_status %>', color: '<%= @request.status_color %>', icon: '<%= @request.status_icon %>'}
        ]"></tag>
    </grid-item>
    <grid-item columns="lg-2 sm-6 auto">
      <card size="small" id="trip-id">
        <heading level="h2"><%= @request.id %></heading>
        <text-style variation="default">Trip ID</text-style>
      </card>
    </grid-item>
  </grid-container>
  <grid-container>
    <grid-item columns="lg-3 sm-12">
      <heading level="h3" size="h4">
        Level of Participation
      </heading>
      <text-style variation="default"><%= @request.participation.blank? ? 'Unknown' : @request.participation %></text-style>
      <heading level="h3" size="h4">
        Purpose
      </heading>
      <text-style variation="default"><%= @request.purpose.blank? ? 'Unknown' : @request.purpose %></text-style>
    </grid-item>
    <grid-item columns="lg-5 sm-12">
      <heading level="h3" size="h4">
        Others who requested to go
      </heading>
      <%=  render partial: "other_staff", collection: @request.event_attendees, as: :staff %>
    </grid-item>
    <grid-item columns="lg-4 sm-12">
      <heading level="h3" size="h4">
        Team members absent during this time period
      </heading>
      <%=  render partial: "shared/absent_staff", collection: @request.absent_staff, as: :staff %>
    </grid-item>
  </grid-container>
  <grid-container>
    <grid-item columns="lg-3 sm-12">
      <%=  render partial: "shared/request_note", collection: @request.notes_and_changes, as: :note %>
    </grid-item>
    <grid-item columns="lg-9 sm-12" :offset="true">
      <data-table caption="Anticipated Expenses"
        :columns="<%= @request.estimate_fields_json %>"
        :json-data="<%= @request.estimates_json %>">
      </data-table>
    </grid-item>
  </grid-container>

  <hyperlink href="<%= edit_travel_request_path(@request.id) %>" variation="button solid">Edit</hyperlink>
  <hyperlink href="<%= my_requests_path %>" variation="button solid">Back</hyperlink>
</wrapper>
