<wrapper :max-width="1440" class="request">
  <grid-container>
    <grid-item columns="lg-12 sm-12">
      <%= render 'title_card', request: @request %>
    </grid-item>
    <grid-item columns="lg-4 sm-12">
      <card size="full-width">
        <card-content>
          <heading level="h3" size="h5">
            Level of Participation
          </heading>
          <text-style variation="default"
            ><%= @request.participation.blank? ? 'Unknown' :
            @request.participation.humanize %></text-style
          >
          <heading level="h3" size="h5">
            Purpose
          </heading>
          <text-style variation="default"
            ><%= @request.purpose.blank? ? 'Unknown' : @request.purpose
            %></text-style
          >
        </card-content>
      </card>
    </grid-item>
    <grid-item columns="lg-4 sm-12">
      <card size="full-width">
        <card-content>
          <heading level="h3" size="h5">
            Others who requested to go
          </heading>
          <ul class="staff">
            <%= render partial: "other_staff", collection:
            @request.event_attendees, as: :staff %>
          </ul>
        </card-content>
      </card>
    </grid-item>
    <grid-item columns="lg-4 sm-12">
      <card size="full-width">
        <card-content>
          <heading level="h3" size="h5">
            Team members absent during this time period
          </heading>
          <ul class="staff">
            <%= render partial: "shared/absent_staff", collection:
            @request.absent_staff, as: :staff %>
          </ul>
        </card-content>
      </card>
    </grid-item>
    <grid-item columns="lg-4 sm-12">
      <%= render 'notes_card', request: @request, render_edit: false %>
    </grid-item>
    <grid-item columns="lg-8 sm-12" :offset="true" class="travel-estimates">
      <card size="full-width">
        <card-content>
          <data-table
            caption="Anticipated Expenses"
            :columns="<%= @request.estimate_fields_json %>"
            :json-data="<%= @request.estimates_json %>"
          >
          </data-table>
        </card-content>
      </card>
    </grid-item>
    <grid-item>
      <hyperlink
        href="<%= edit_travel_request_path(@request.id) %>"
        variation="button solid"
        >Edit</hyperlink>
    </grid-item>
  </grid-container>
</wrapper>
