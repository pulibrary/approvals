<wrapper :max-width=1440 class="request">
  <grid-container>
    <grid-item columns="lg-12 sm-12" order="order-lg-1">
      <%= render 'title_card', request: @request %>
    </grid-item>
    <grid-item columns="lg-6 sm-12" order="order-lg-2 order-sm-3">
      <%= render 'notes_card', request: @request, render_edit: false %>
    </grid-item>
    <grid-item columns="lg-6 sm-12" order="order-lg-3 order-sm-2" :offset="true">
      <card size="full-width">
        <card-content>
            <text-style variation="strong">Team members absent during this time period</text-style>
            <ul class="staff"><%=  render partial: "shared/absent_staff", collection: @request.absent_staff, as: :staff %></ul>
        </card-content>
      </card>

    </grid-item>
    <grid-item order="order-lg-4 order-sm-4">
      <% if @request.request.can_edit?(agent: current_staff_profile) %>
        <hyperlink href="<%= edit_absence_request_path(@request.request) %>" variation="button solid">Edit</hyperlink>
      <% end %>
      <% if @request.request.can_cancel?(agent: current_staff_profile) %>
        <%= form_with(model: @request.request, local: true, url: decide_absence_request_path(@request.request), method: :put, class: 'form-button') do |form| %>
          <input-button type="submit" variation="solid" name="cancel">Cancel</input-button>
        <% end %>
      <% end %>
    </grid-item>
  </gird-container>
</wrapper>
